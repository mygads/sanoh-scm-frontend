<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Select Supplier</title>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Berkshire+Swash&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900&display=swap"
    rel="stylesheet">

  <!-- Select2 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet">

  <!-- Custom Styles -->
  <link rel="stylesheet" href="../style.css">
  
</head>

<body class="font-poppins flex min-h-screen">
  <!-- nav-side bar -->
  <aside class="flex flex-col w-[20%] max-md:ml-0 max-md:w-full">
    <nav
      class="flex flex-col grow py-9 2xl:py-14 w-full h-screen text-base font-medium border-r border-solid bg-stone-300 border-r-neutral-400 max-md:mt-9">
      <!-- Logo Sanoh -->
      <img loading="lazy" src="../assets/logosanoh.svg" class="object-contain self-center w-30 2xl:w-48 max-w-full cursor-pointer pointer-events-auto aspect-[2.79]" />
      
      <!-- Menu Items -->
      <ul class="flex flex-col mt-7 2xl:mt-10 w-full text-gray-500">
        <!-- Select Supplier (Always Visible) -->
        <li>
          <a id="select-supplier-nav" href="index.html"
            class="flex gap-4 items-center p-[9px] 2xl:p-4 w-full whitespace-nowrap cursor-pointer pointer-events-auto hover:bg-blue-800 hover:bg-opacity-5 hover:border-l-8 hover:border-solid hover:border-blue-950 hover:border-opacity-50 active">
            <img loading="lazy" src="../assets/icon_home_default.svg" alt=""
              class="object-contain shrink-0 self-stretch my-auto w-4 2xl:w-6 aspect-square icon-home-active" />
            <span id="select-supplier-text" class="self-stretch my-auto text-[80%] 2xl:text-[120%]">Select
              Supplier</span>
          </a>
        </li>


        <!-- Other Navigation Items (Initially Hidden) -->
        <li class="nav-hidden">
          <a href="purchase-order.html"
            class="flex gap-4 items-center p-[9px] 2xl:p-4 mt-4 w-full cursor-pointer pointer-events-auto hover:bg-blue-800 hover:bg-opacity-5 hover:border-l-8 hover:border-solid hover:border-blue-950 hover:border-opacity-50">
            <img loading="lazy" src="../assets/icon_po_default.svg" alt=""
              class="object-contain shrink-0 self-stretch my-auto w-4 2xl:w-6 aspect-[0.89] fill-blue-950" />
            <span class="self-stretch my-auto text-sm 2xl:text-xl">Purchase Order</span>
          </a>
        </li>
        
        <li class="nav-hidden">
          <a href="history-purchase-order.html"
            class="flex gap-4 items-center p-[9px] 2xl:p-4 mt-4 w-full cursor-pointer pointer-events-auto hover:bg-blue-800 hover:bg-opacity-5 hover:border-l-8 hover:border-solid hover:border-blue-950 hover:border-opacity-50">
            <img loading="lazy" src="../assets/icon_history_default.svg" alt=""
              class="object-contain shrink-0 self-stretch my-auto w-4 2xl:w-6 aspect-square" />
            <span class="self-stretch my-auto text-sm 2xl:text-xl">History Purchase Order</span>
          </a>
        </li>
        
        <li class="nav-hidden">
          <a href="performance-report.html" class="flex gap-4 items-center p-[9px] 2xl:p-4 mt-4 w-full cursor-pointer pointer-events-auto hover:bg-blue-800 hover:bg-opacity-5 hover:border-l-8 hover:border-solid hover:border-blue-950 hover:border-opacity-50">
            <img loading="lazy" src="../assets/icon_performance_default.svg" alt="" class="object-contain shrink-0 self-stretch my-auto w-4 2xl:w-6 aspect-square" />
            <span class="self-stretch my-auto text-sm 2xl:text-xl">Performance Report</span>
          </a>
        </li>
        <!-- ... -->
      </ul>
      <!-- User and Logout Section at the Bottom -->
      <div class="mt-auto flex flex-col w-full">
        <!-- User Info -->
        <div class="flex gap-4 items-center p-2 2xl:p-4 w-full bg-blue-950 bg-opacity-10 text-blue-950">
          <img loading="lazy" src="../assets/icon_people.svg" alt=""
            class="object-contain shrink-0 self-stretch my-auto w-4 2xl:w-6 aspect-square" />
          <span class="self-stretch my-auto text-sm 2xl:text-xl">Purchasing (name)</span>
        </div>
        <!-- Logout Button -->
        <a href="../index.html"
          class="flex gap-4 items-center p-2 2xl:p-4 w-full text-red-600 whitespace-nowrap cursor-pointer pointer-events-auto bg-red-600 bg-opacity-20 hover:bg-red-600 hover:text-green-50 hover:logout-icon">
          <img loading="lazy" src="../assets/icon_logout.svg" alt=""
            class="object-contain shrink-0 self-stretch my-auto w-4 2xl:w-6 aspect-square logout-icon hover:icon_logout_white.svg" />
          <span class="self-stretch my-auto text-sm 2xl:text-xl">Logout</span>
        </a>
      </div>
    </nav>
  </aside>

  <!-- Main Content -->
  <main class="flex flex-col w-[80%] xl:px-10 2xl:px-14 xl:py-14 2xl:py-20">
    <article class="flex flex-col items-start w-full text-base">
      <h1 class="xl:text-xl 2xl:text-3xl font-semibold text-black">Select Supplier</h1>
      <form id="supplierForm" class="flex flex-col w-full text-neutral-500">
        <div class="flex flex-col xl:w-[500px] 2xl:w-[600px]">
          <label for="Supplier" class="block xl:mb-6 2xl:mb-8 xl:text-base 2xl:text-lg text-neutral-500"></label>
          <select id="Supplier"
            class="scrollable-select bg-transparent border border-neutral-300 rounded-lg block w-full p-4 2xl:p-7 text-neutral-500 text-sm 2xl:text-lg">
            <option value="">Cari Supplier</option>
            <!-- Options will be added here by JavaScript -->
          </select>
        </div>
        <div
          class="flex gap-2 items-center xl:mt-6 2xl:mt-8 justify-end text-white whitespace-nowrap xl:h-[50px] 2xl:h-[100px] xl:w-[500px] 2xl:w-[600px]">
          <button type="button" id="submitBtn"
            class="gap-2 xl:px-5 xl:py-3 2xl:px-8 2xl:py-4 rounded bg-zinc-400 xl:text-sm 2xl:text-lg hover:bg-blue-600"
            disabled>Submit</button>
        </div>
      </form>
    </article>

    <!-- Status -->
    <section id="status-section" class="flex gap-10 mt-8 max-md:mt-6">
      <div class="flex ">
        <!-- Purchase Order (PO) Section -->
        <div class="flex flex-col items-start w-full max-w-[400px]">
          <h2 class="xl:text-xl 2xl:text-2xl font-semibold text-black">Status Purchase Order (PO)</h2>
          <div class="flex gap-4 items-start mt-4">
            <a id="po-active" href="purchase-order.html"
              class="flex flex-col p-3 sm:p-4 md:p-4 text-left text-white bg-red-600 rounded cursor-pointer pointer-events-auto w-[180px]">
              <span class="text-3xl font-medium" id="po-active-count">0</span>
              <span class="mt-2 text-sm font-semibold">Purchase Order (PO) Active</span>
            </a>
            <a id="po-in-progress" href="purchase-order.html"
              class="flex flex-col p-3 sm:p-4 md:p-4 text-left text-sky-900 bg-yellow-200 rounded cursor-pointer pointer-events-auto w-[188px]">
              <span class="text-3xl font-medium" id="po-in-progress-count">0</span>
              <span class="mt-2 text-sm font-semibold">Purchase Order (PO) In Progress</span>
            </a>
          </div>
        </div>
        <div class="flex flex-col items-start w-full max-w-[400px]">
          <h2 class="xl:text-xl 2xl:text-2xl  font-semibold text-black">Status Delivery Note (DN)</h2>
          <div class="flex gap-4 items-start mt-4">
            <a id="dn-active" href="delivery-note.html"
              class="flex flex-col p-3 sm:p-4 md:p-4 text-left text-white bg-red-600 rounded cursor-pointer pointer-events-auto w-[188px]">
              <span class="text-3xl font-medium" id="dn-active-count">0</span>
              <span class="mt-2 text-sm font-semibold">Delivery Note (DN) Active</span>
            </a>
            <a id="dn-in-progress" href="delivery-note.html"
              class="flex flex-col p-3 sm:p-4 md:p-4 text-left text-blue-950 bg-yellow-200 rounded cursor-pointer pointer-events-auto w-[188px]">
              <span class="text-3xl font-medium" id="dn-in-progress-count">0</span>
              <span class="mt-2 text-sm font-semibold">Delivery Note (DN) In Progress</span>
            </a>
          </div>
        </div>
      </div>
    </section>

  </main>

  <!-- jQuery for Select2 -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <!-- Select2 JS -->
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

  <script>
    $(document).ready(function () {
      const suppliers = [
        { id: '1', name: 'Supplier A', code: 'A123' },
        { id: '2', name: 'Supplier B', code: 'B456' },
        { id: '3', name: 'Supplier C', code: 'C789' },
        { id: '4', name: 'Supplier D', code: 'D101' },
        { id: '5', name: 'Supplier E', code: 'E112' },
        { id: '6', name: 'Supplier F', code: 'F131' },
        { id: '7', name: 'Supplier G', code: 'G415' },
        { id: '8', name: 'Supplier H', code: 'H161' },
        { id: '9', name: 'Supplier I', code: 'I718' },
        { id: '10', name: 'Supplier J', code: 'J192' },
      ];

      const statusData = {
        '1': { poActive: '5', poInProgress: '3', dnActive: '7', dnInProgress: '2' },
        '2': { poActive: '8', poInProgress: '4', dnActive: '5', dnInProgress: '6' },
        '3': { poActive: '3', poInProgress: '2', dnActive: '4', dnInProgress: '1' },
        // Additional data...
      };

      const supplierSelect = $('#Supplier');
      const submitBtn = $('#submitBtn');
      const poActiveCount = $('#po-active-count');
      const poInProgressCount = $('#po-in-progress-count');
      const dnActiveCount = $('#dn-active-count');
      const dnInProgressCount = $('#dn-in-progress-count');
      const selectSupplierText = $('#select-supplier-text');

      // Populate supplier select options
      suppliers.forEach(supplier => {
        const option = new Option(`${supplier.name} (${supplier.code})`, supplier.id, false, false);
        supplierSelect.append(option);
      });

      // Initialize Select2
      supplierSelect.select2({
        placeholder: 'Cari Supplier',
        allowClear: true
      });

      // Change event for select
      supplierSelect.on('change', function () {
        if ($(this).val()) {
          submitBtn.prop('disabled', false).removeClass('bg-zinc-400').addClass('bg-blue-600');
        } else {
          submitBtn.prop('disabled', true).removeClass('bg-blue-600').addClass('bg-zinc-400');
        }
      });

      // Click event for submit button
      submitBtn.on('click', function () {
        const selectedSupplierId = supplierSelect.val();
        console.log(`Selected Supplier ID: ${selectedSupplierId}`); // Debugging line

        if (selectedSupplierId) {
          const status = statusData[selectedSupplierId] || {
            poActive: '0', poInProgress: '0', dnActive: '0', dnInProgress: '0'
          };
          console.log(`Status:`, status); // Debugging line

          poActiveCount.text(status.poActive);
          poInProgressCount.text(status.poInProgress);
          dnActiveCount.text(status.dnActive);
          dnInProgressCount.text(status.dnInProgress);

          // Update the "Select Supplier" text in the sidebar
          const selectedSupplier = suppliers.find(supplier => supplier.id === selectedSupplierId);
          if (selectedSupplier) {
            selectSupplierText.text(`${selectedSupplier.name} (${selectedSupplier.code})`);
          }

          // Show status section
          $('#status-section').show();

          // Show other navigation items
          $('.nav-hidden').removeClass('nav-hidden');
        } else {
          console.log('No supplier selected');
        }
      });
    });
  </script>

</body>

</html>